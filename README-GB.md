
```
    python ./datasets/prepare_patches_dataset.py  --input_dir ./datasets/forms/ --output_dir ./datasets/forms/ready

    python train.py --dataroot ./datasets/patches/ready --name maps_pix2pix --model pix2pix --direction AtoB --gpu_ids -1
    python train.py --dataroot ./datasets/patches/ready --name form_pix2pix --model pix2pix --direction AtoB --gpu_ids 0,1
    python train.py --dataroot ./datasets/patches/ready --name form_pix2pix --model pix2pix --direction AtoB --gpu_ids 0,1 --no_flip

    python train.py --dataroot ./datasets/patches/ready --name form_pix2pix --model pix2pix --direction AtoB --gpu_ids 0,1 --no_flip --batch_size 32 --epoch    
```

********************************************************
# New process using spectral normalization

Generated by unet-denoizer inpaint
python ./datasets/prepare_patches_dataset.py  --input_dir ./datasets/claim_mask/src --output_dir ./datasets/claim_mask/ready

 python train.py --dataroot ./datasets/claim_mask/ready --name claim_mask_unet_256_spectral --model pix2pix --direction AtoB --gpu_ids 0 --batch_size 24 --netG unet_256_spectral  --preprocess crop --display_freq 100 --lr 0.0002 --save_epoch_freq 5 --load_size 2560 --crop_size 256 --display_env claim_mask --no_flip --norm instance --netD n_layers_spectral --continue_train --n_epochs 1000 --continue_train


 python test.py --dataroot ./datasets/claim_mask/src/test/image --name claim_mask_unet_256_spectral --model test --netG unet_256_spectral --direction AtoB --dataset_mode single --gpu_id -1 --norm instance  --preprocess none 


--- GLOBAL GENERATOR

Generated by unet-denoizer inpaint

```
python ./datasets/prepare_patches_dataset.py  --input_dir ./datasets/claim_mask/src --output_dir ./datasets/claim_mask/ready
```

```
python train.py --dataroot ./datasets/claim_mask/ready --name claim_mask_global --model pix2pix --direction AtoB --gpu_ids 0 --batch_size 3 --netG global  --preprocess crop --display_freq 100 --lr 0.0002 --save_epoch_freq 1 --load_size 2660 --crop_size 1280 --display_env claim_mask --no_flip --norm instance --netD n_layers_spectral --n_epochs 500 --display_winsize 1280 --continue_train  --save_by_iter
```

## LOCAL ENCHANCER GENERATOR

### STEP 1 - Pretain local generator on size 512

```
python train.py --dataroot ./datasets/claim_mask/ready --name claim_mask_local --model pix2pix --direction AtoB --gpu_ids 0 --batch_size 8 --netG local  --preprocess crop --display_freq 100 --lr 0.0002 --save_epoch_freq 1 --load_size 2660 --crop_size 512 --display_env claim_mask --no_flip --norm instance --netD n_layers_spectral --n_epochs 500 --display_winsize 1280 --save_by_iter

```

### STEP 2 - Pretain local generator on size 1024

```
 python train.py --dataroot ./datasets/claim_mask/ready --name claim_mask_local --model pix2pix --direction AtoB --gpu_ids 0 --batch_size 2 --netG local  --preprocess crop --display_freq 100 --lr 0.0002 --save_epoch_freq 1 --load_size 2660 --crop_size 1024 --display_env claim_mask --no_flip --norm instance --netD n_layers_spectral --n_epochs 500 --display_winsize 1280 --save_by_iter --continue_train


```



TODO:
https://github.com/leaderj1001/Stand-Alone-Self-Attention/blob/master/model.py


Tunded :::

python train.py --dataroot ./datasets/claim_mask/ready --name claim_mask_global --model pix2pix --direction AtoB --gpu_ids 0 --batch_size 12 --netG global  --preprocess crop --display_freq 100 --lr 0.0002 --save_epoch_freq 1 --load_size 2660 --crop_size 256 --display_env claim_mask --no_flip --norm instance --netD n_layers_spectral --n_epochs 1000 --display_winsize 256 --gan_mode hinge --continue_train 


python train.py --dataroot ./datasets/claim_mask/ready --name claim_mask_global --model pix2pix --direction AtoB --gpu_ids 0 --batch_size 12 --netG global  --preprocess crop --display_freq 100 --lr 0.0002 --save_epoch_freq 1 --load_size 2660 --crop_size 256 --display_env claim_mask --no_flip --norm instance --netD n_layers_spectral --n_epochs 1000 --display_winsize 256 --gan_mode hinge --continue_train 


## 1024


python train.py --dataroot ./datasets/claim_mask/ready --name claim_mask_unet_1024_spectral --model pix2pix --direction AtoB --gpu_ids 0 --batch_size 8 --netG unet_1024_spectral  --preprocess crop --display_freq 100 --lr 0.0002 --save_epoch_freq 5 --load_size 2048 --crop_size 1024 --display_env claim_mask --no_flip --dropout --norm instance --netD n_layers_spectral 



 

-- MASK 256
python train.py --dataroot ./datasets/hicfa_mask/ready --name hicfa_mask --model pix2pix --direction AtoB --gpu_ids 0,1 --batch_size 16 --netG unet_256_spectral  --preprocess crop --display_freq 100 --lr 0.0002 --save_epoch_freq 1 --load_size 1792 --crop_size 256 --display_env hicfa_mask --no_dropout --no_flip --norm instance --netD n_layers_spectral   --continue_train


python train.py --dataroot ./datasets/hicfa_mask/ready --name hicfa_mask_pp --model pix2pix --direction AtoB --gpu_ids 0,1 --batch_size 16 --netG unet_pp  --preprocess crop --display_freq 100 --lr 0.0001 --save_epoch_freq 1 --load_size 1792 --crop_size 256 --display_env hicfa_mask --no_dropout --no_flip --norm instance --netD n_layers_spectral --n_epochs 1000 --continue_train


python test.py --dataroot ./datasets/hicfa_mask/eval --name hicfa_mask --model test --netG unet_256_spectral --direction AtoB --dataset_mode single --gpu_id -1 --norm instance  --preprocess none --no_dropout 



 python test.py --dataroot ./datasets/claim_mask/src/test/image --name claim_mask_unet_256_spectral --model test --netG unet_256_spectral --direction AtoB --dataset_mode single --gpu_id -1 --norm instance  --preprocess none  --no_dropout 



-- MASK 128
python train.py --dataroot ./datasets/hicfa_mask/ready --name hicfa_mask --model pix2pix --direction AtoB --gpu_ids 0,1 --no_flip --batch_size 16 --netG unet_128_spectral  --preprocess crop --display_freq 100 --lr 0.0002 --save_epoch_freq 1 --load_size 1700 --crop_size 128 --display_env hicfa_mask --no_dropout --norm instance --netD n_layers_spectral  --n_epochs 5000 --continue_train

python test.py --dataroot ./datasets/hicfa_mask/eval --name hicfa_mask --model test --netG unet_128_spectral --direction AtoB --dataset_mode single --gpu_id -1 --norm instance  --preprocess none --no_dropout 

-- TESTING GLOBAL GEN
python train.py --dataroot ./datasets/hicfa_mask/ready --name hicfa_mask_pp --model pix2pix --direction AtoB --gpu_ids 0,1 --batch_size 16 --netG unet_pp  --preprocess crop --display_freq 100 --lr 0.0002 --save_epoch_freq 1 --load_size 1792 --crop_size 256 --display_env hicfa_mask --no_dropout --no_flip --norm instance  --netD n_layers_spectral 


python test.py --dataroot ./datasets/hicfa_mask/eval --name hicfa_mask_pp --model test --netG unet_pp --direction AtoB --dataset_mode single --gpu_id -1 --norm instance  --preprocess none --no_dropout 

# SPECTRAL - OMR

python ./datasets/prepare_patches_dataset.py  --input_dir ./datasets/hicfa_omr_mask/src --output_dir ./datasets/hicfa_omr_mask/ready

python train.py --dataroot ./datasets/hicfa_omr_mask/ready --name hicfa_omr_mask --model pix2pix --direction AtoB --gpu_ids 0,1 --no_flip --batch_size 8 --netG unet_256_spectral  --preprocess crop --display_freq 100 --lr 0.0002 --save_epoch_freq 1 --load_size 1024 --crop_size 256 --display_env hicfa_omr_mask --no_dropout --norm instance --netD n_layers_spectral --n_epochs 25000 --continue_train


python test.py --dataroot ./datasets/hicfa_omr_mask/eval --name hicfa_omr_mask --model test --netG unet_256_spectral --direction AtoB --dataset_mode single --gpu_id -1 --norm instance --netD n_layers_spectral --load_size 1024 --crop_size 1024



--- RESNET 9
python train.py --dataroot ./datasets/hicfa_mask/ready --name hicfa_mask_resnet_9blocks --model pix2pix --direction AtoB --gpu_ids 0 --batch_size 4 --netG resnet_9blocks  --preprocess crop --display_freq 100 --lr 0.0002 --save_epoch_freq 1 --load_size 1792 --crop_size 256 --display_env hicfa_mask --no_dropout --no_flip --norm instance --netD n_layers_spectral --n_epochs 1000 --continue_train

python test.py --dataroot ./datasets/hicfa_mask/eval --name hicfa_mask_resnet_9blocks --model test --netG resnet_9blocks --direction AtoB --dataset_mode single --gpu_id -1 --norm instance  --preprocess none --no_dropout 

--- SPECTRAL
python train.py --dataroot ./datasets/hicfa_mask/ready --name hicfa_mask_unet_256_spectral --model pix2pix --direction AtoB --gpu_ids 0 --batch_size 8 --netG unet_256_spectral  --preprocess crop --display_freq 100 --lr 0.0002 --save_epoch_freq 1 --load_size 1792 --crop_size 256 --display_env hicfa_mask --no_dropout --no_flip --norm instance --netD n_layers_spectral 

python test.py --dataroot ./datasets/hicfa_mask/eval --name hicfa_mask_unet_256_spectral  --model test --netG unet_256_spectral --direction AtoB --dataset_mode single --gpu_id -1 --norm instance  --preprocess none --no_dropout


python test.py --dataroot ./datasets/hicfa_omr_mask/eval --name hicfa_mask_unet_256_spectral --model test --netG unet_256_spectral --direction AtoB --dataset_mode single --gpu_id -1 --norm instance --netD n_layers_spectral --load_size 1024 --crop_size 1024

hicfa_mask_resnet_9blocks
hicfa_mask_unet_256_spectral


python ./datasets/prepare_patches_dataset.py  --input_dir ./datasets/hicfa_mask/src --output_dir ./datasets/hicfa_mask/ready

python train.py --dataroot ./datasets/hicfa_mask/ready --name hicfa_mask_global --model pix2pix --direction AtoB --gpu_ids 0,1 --batch_size 8 --netG global  --preprocess crop --display_freq 100 --lr 0.0002 --save_epoch_freq 1 --load_size 1792 --crop_size 288 --display_env hicfa_mask --no_dropout --no_flip --norm instance --netD n_layers_spectral --n_epochs 1000 --continue_train --num_threads 8 --gan_mode hinge


 python train.py --dataroot ./datasets/hicfa_mask/ready --name hicfa_mask_global --model pix2pix --direction AtoB --gpu_ids 0,1 --batch_size 12 --netG global  --preprocess crop --display_freq 100 --lr 0.0002 --save_epoch_freq 1 --load_size 1792 --crop_size 256 --display_env hicfa_mask --no_dropout --no_flip --norm instance --netD n_layers_spectral --n_epochs 1000 --continue_train --num_threads 8 --gan_mode hinge

## TODO :

Implement hinge loss
https://github.com/NVlabs/SPADE/blob/0ff661e70131c9b85091d11a66e019c0f2062d4c/models/networks/loss.py#L66


python train.py --dataroot ./datasets/hicfa_mask/ready --name hicfa_mask_global --model pix2pix --direction AtoB --gpu_ids 0 --batch_size 8 --netG global  --preprocess crop --display_freq 100 --lr 0.0002 --save_epoch_freq 1 --load_size 1792 --crop_size 256 --display_env hicfa_mask --no_dropout --no_flip --norm instance --netD n_layers_spectral 

python test.py --dataroot ./datasets/hicfa_mask/eval --name hicfa_mask_global  --model test --netG global --direction AtoB --dataset_mode single --gpu_id -1 --norm instance  --preprocess none --no_dropout


Bad Templates

python train.py --dataroot ./datasets/bad-templates/ready --name template_mask_global --model pix2pix --direction AtoB --gpu_ids 0,1 --batch_size 4 --netG global  --preprocess crop --display_freq 100 --lr 0.0002 --save_epoch_freq 1 --load_size 2560 --crop_size 192 --display_env template_mask_global --no_dropout --no_flip --norm instance --netD n_layers_spectral --continue_train --n_epochs 500


python test.py --dataroot ./datasets/bad-templates/eval --name template_mask_global  --model test --netG global --direction AtoB --dataset_mode single --gpu_id -1 --norm instance  --preprocess none --no_dropout


# Good info on improvements

https://towardsdatascience.com/gan-ways-to-improve-gan-performance-acf37f9f59b